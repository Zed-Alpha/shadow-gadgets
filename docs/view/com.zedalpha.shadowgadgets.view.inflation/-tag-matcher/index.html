<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>TagMatcher</title>
<link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
<a class="library-name--link" href="../../../index.html">
                            Shadow Gadgets
                    </a>            </div>
            <div class="library-version">
            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":view:dokkaHtmlPartial/release">androidJvm</button>
        </div>
    </div>
    <div class="navigation-controls">
            <a class="navigation-controls--btn navigation-controls--homepage" id="homepage-link" href="https://github.com/zed-alpha/shadow-gadgets"></a>
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="classlike" id="content" pageids="view::com.zedalpha.shadowgadgets.view.inflation/TagMatcher///PointingToDeclaration//-1931728498">
  <div class="breadcrumbs"><a href="../../index.html">view</a><span class="delimiter">/</span><a href="../index.html">com.zedalpha.shadowgadgets.view.inflation</a><span class="delimiter">/</span><span class="current">TagMatcher</span></div>
  <div class="cover ">
    <h1 class="cover"><span>Tag</span><wbr><span><span>Matcher</span></span></h1>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":view:dokkaHtmlPartial/release"><div class="symbol monospace"><span class="token keyword">interface </span><a href="index.html">TagMatcher</a></div><p class="paragraph">The interface used by the inflation helpers to select Views using custom criteria.</p><p class="paragraph">On their own, the helpers only look for tags with the library's <code class="lang-kotlin">app:clipOutlineShadow</code> attribute. For those cases where modifying the relevant layouts is impossible or infeasible, any number of TagMatchers can be provided to the helpers in order to select Views by any other criteria necessary. Like the inflation helpers, these matchers can be created and applied in either XML resources, or in code.</p><p class="paragraph"><strong>Creating matchers in resources:</strong></p><p class="paragraph">Matchers created in XML can only compare against the layout tag names and <code class="lang-kotlin">android:id</code> values. They are defined in res/xml/ files with a very simplistic language: the <code class="lang-kotlin">&lt;id&gt;</code> and <code class="lang-kotlin">&lt;name&gt;</code> tags, and the <code class="lang-kotlin">android:id</code>, <code class="lang-kotlin">android:name</code>, and <code class="lang-kotlin">app:matchRule</code> attributes (note the <code class="lang-kotlin">app</code> prefix). The parser is extremely lenient and simply ignores everything else.</p><p class="paragraph">The following snippet demonstrates all of the recognized element compositions:</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;matchers<br>    xmlns:android="http://schemas.android.com/apk/res/android"<br>    xmlns:app="http://schemas.android.com/apk/res-auto"&gt;<br><br>    &lt;id android:id="@id/target_button" /&gt;<br>    &lt;id android:name="target_button" /&gt;<br>    &lt;id android:name="target_" app:matchRule="startsWith" /&gt;<br>    &lt;name android:name="ImageButton" /&gt;<br>    &lt;name android:name="Button" app:matchRule="endsWith" /&gt;<br>&lt;/matchers&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">These all will match an <code class="lang-kotlin">&lt;ImageButton&gt;</code> with <code class="lang-kotlin">android:id="@+id/target_button"</code>.</p><p class="paragraph">An <code class="lang-kotlin">&lt;id&gt;</code> element creates a TagMatcher that matches either the exact layout ID int using the <code class="lang-kotlin">android:id</code> attribute, or the ID name using <code class="lang-kotlin">android:name</code> and an <code class="lang-kotlin">app:matchRule</code> (see <a href="../-match-rule/index.html">MatchRule</a>), which is <code class="lang-kotlin">equals</code> by default.</p><p class="paragraph">The <code class="lang-kotlin">&lt;name&gt;</code> element creates a TagMatcher that matches against the layout XML tag names, again using the <code class="lang-kotlin">android:name</code> and <code class="lang-kotlin">app:matchRule</code> attributes.</p><p class="paragraph">The res/xml/ files can be supplied to the inflation helper in a few different ways.</p><p class="paragraph">When using a zero-argument <code class="lang-kotlin">attach*ShadowHelper</code> overload, or when the inflation helper itself is set through resources, it looks for an XML file reference first in the <a href="../../../view/com.zedalpha.shadowgadgets.view/-r/attr/shadow-tag-matchers.html"><code class="lang-kotlin">shadowTagMatchers</code></a> theme attribute. For example:</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;style name="Theme.YourApp" parent="Theme.…"&gt;<br>    …<br>    &lt;item name="shadowTagMatchers"&gt;@xml/matchers&lt;/item&gt;<br>&lt;/style&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">If there isn't one there, it then looks for a <code class="lang-kotlin">&lt;meta-data&gt;</code> element in the manifest, first in the <code class="lang-kotlin">&lt;activity&gt;</code> element, then in the <code class="lang-kotlin">&lt;application&gt;</code>.</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;application …&gt;<br>    &lt;activity<br>        android:name=".YourActivity"<br>        android:theme="@style/Theme.YourApp"&gt;<br>        &lt;meta-data<br>            android:name="com.zedalpha.shadowgadgets.SHADOW_TAG_MATCHERS"<br>            android:resource="@xml/matchers" /&gt;<br>    &lt;/activity&gt;<br>    &lt;!-- Also valid in the application. --&gt;<br>&lt;/application&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Alternatively, an XML file can be passed directly to the helper in code, using the appropriate attach function overload:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class YourActivity : Activity() {<br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        // All of the attach*ShadowHelper functions have this overload.<br>        attachShadowHelper(R.xml.matchers)<br>        super.onCreate(savedInstanceState)<br>        …<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph"><strong>Creating matchers in code:</strong></p><p class="paragraph">TagMatcher is simply an interface, so it can easily be implemented to perform whatever other checks are necessary to select target Views from the available information. The fully constructed View, its tag name, and the AttributeSet pulled from the XML are all passed in to the match function.</p><p class="paragraph">The two predefined matchers that are available in XML are accessible here through the <a href="../id-matcher.html">idMatcher</a> and <a href="../name-matcher.html">nameMatcher</a> functions. For example, this snippet creates the exact same matcher list as the XML example above:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class YourActivity : Activity() {<br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        // All of the attach*ShadowHelper functions have this overload.<br>        attachShadowHelper(<br>            listOf(<br>                idMatcher(R.id.target_button),<br>                idMatcher(matchName = "target_button"),<br>                idMatcher(<br>                    matchName = "target_",<br>                    matchRule = MatchRule.StartsWith<br>                ),<br>                nameMatcher("ImageButton"),<br>                nameMatcher("Button", MatchRule.EndsWith)<br>            )<br>        )<br>        super.onCreate(savedInstanceState)<br>        …<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="CONSTRUCTOR,TYPE,PROPERTY,FUNCTION">Members</button></div>
    <div class="tabs-section-body">
      <div data-togglable="FUNCTION">
        <h2 class="">Functions</h2>
        <div class="table"><a data-name="-1323310062%2FFunctions%2F-1931728498" anchor-label="matches" id="-1323310062%2FFunctions%2F-1931728498" data-filterable-set=":view:dokkaHtmlPartial/release"></a>
          <div class="table-row" data-filterable-current=":view:dokkaHtmlPartial/release" data-filterable-set=":view:dokkaHtmlPartial/release">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="matches.html"><span><span>matches</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1323310062%2FFunctions%2F-1931728498"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":view:dokkaHtmlPartial/release"><div class="symbol monospace"><span class="token keyword">abstract </span><span class="token keyword">fun </span><a href="matches.html"><span class="token function">matches</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">view<span class="token operator">: </span><a href="https://developer.android.com/reference/kotlin/android/view/View.html">View</a><span class="token punctuation">, </span></span><span class="parameter ">tagName<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">attrs<span class="token operator">: </span><a href="https://developer.android.com/reference/kotlin/android/util/AttributeSet.html">AttributeSet</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html">Boolean</a></div><div class="brief "><p class="paragraph">Called after the <a href="matches.html">view</a> has been inflated from a layout. The <a href="matches.html">tagName</a> is the name from the XML element, and <a href="matches.html">attrs</a> is the AttributeSet pulled from it.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2024 zed-alpha</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>

